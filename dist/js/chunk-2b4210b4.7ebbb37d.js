(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b4210b4"],{"0c6e":function(t,e,n){"use strict";var s=n("daf1"),i=n.n(s);i.a},"0f89":function(t,e,n){var s=n("6f8a");t.exports=function(t){if(!s(t))throw TypeError(t+" is not an object!");return t}},"12fd":function(t,e,n){var s=n("6f8a"),i=n("da3c").document,a=s(i)&&s(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},"143d":function(t,e,n){},"28db":function(t,e,n){"use strict";var s=n("d096"),i=n.n(s);i.a},"2ea1":function(t,e,n){var s=n("6f8a");t.exports=function(t,e){if(!s(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!s(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!s(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!s(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"31a3":function(t,e,n){},"3adc":function(t,e,n){var s=n("0f89"),i=n("a47f"),a=n("2ea1"),r=Object.defineProperty;e.f=n("7d95")?Object.defineProperty:function(t,e,n){if(s(t),e=a(e,!0),s(n),i)try{return r(t,e,n)}catch(o){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"43c8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},5964:function(t,e,n){t.exports=n.p+"img/page.f7264e53.png"},"6f8a":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"7d95":function(t,e,n){t.exports=!n("d782")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"81d0":function(t,e,n){},"85f2":function(t,e,n){t.exports=n("ec5b")},"8ce0":function(t,e,n){var s=n("3adc"),i=n("f845");t.exports=n("7d95")?function(t,e,n){return s.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},a47f:function(t,e,n){t.exports=!n("7d95")&&!n("d782")((function(){return 7!=Object.defineProperty(n("12fd")("div"),"a",{get:function(){return 7}}).a}))},a7d3:function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},bc25:function(t,e,n){var s=n("f2fe");t.exports=function(t,e,n){if(s(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,s){return t.call(e,n,s)};case 3:return function(n,s,i){return t.call(e,n,s,i)}}return function(){return t.apply(e,arguments)}}},c918:function(t,e,n){"use strict";var s=n("143d"),i=n.n(s);i.a},d096:function(t,e,n){},d13f:function(t,e,n){var s=n("da3c"),i=n("a7d3"),a=n("bc25"),r=n("8ce0"),o=n("43c8"),c="prototype",u=function(t,e,n){var l,d,p,f=t&u.F,y=t&u.G,m=t&u.S,v=t&u.P,h=t&u.B,_=t&u.W,b=y?i:i[e]||(i[e]={}),g=b[c],C=y?s:m?s[e]:(s[e]||{})[c];for(l in y&&(n=e),n)d=!f&&C&&void 0!==C[l],d&&o(b,l)||(p=d?C[l]:n[l],b[l]=y&&"function"!=typeof C[l]?n[l]:h&&d?a(p,s):_&&C[l]==p?function(t){var e=function(e,n,s){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,s)}return t.apply(this,arguments)};return e[c]=t[c],e}(p):v&&"function"==typeof p?a(Function.call,p):p,v&&((b.virtual||(b.virtual={}))[l]=p,t&u.R&&g&&!g[l]&&r(g,l,p)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},d782:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},da3c:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},daf1:function(t,e,n){},e341:function(t,e,n){var s=n("d13f");s(s.S+s.F*!n("7d95"),"Object",{defineProperty:n("3adc").f})},e425:function(t,e,n){"use strict";var s=n("81d0"),i=n.n(s);i.a},ec5b:function(t,e,n){n("e341");var s=n("a7d3").Object;t.exports=function(t,e,n){return s.defineProperty(t,e,n)}},f2fe:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},f549:function(t,e,n){"use strict";var s=n("31a3"),i=n.n(s);i.a},f845:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},fc94:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail"},[n("div",{staticClass:"page-header"},[n("h1",[t._v(t._s(t.$t("m.userinfo.title")))])]),n("Left",{ref:"brother",attrs:{id:t.id,identity:t.identity,claimType:t.claimType,processingMsg:t.msg}}),n("Right",{attrs:{orderId:t.orderId,processingMsg:t.msg,claimType:t.claimType,identity:t.identity}})],1)},i=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top"},[n("div",{attrs:{id:"box"}},[n("div",{attrs:{id:"top"}}),n("div",{attrs:{id:"bottom"}},[n("div",{attrs:{id:"msg"}},[t.processingMsg?n("div",{attrs:{id:"username"}},[t._v("\n                    "+t._s(t.processingMsg.archive.identityInfo.name.firstName)+"\n                    "+t._s(t.processingMsg.archive.identityInfo.name.middleName)+"\n                    "+t._s(t.processingMsg.archive.identityInfo.name.lastName)+"\n                ")]):t._e(),n("span",[t._v(t._s(t.claimType))]),n("br"),n("span",[t._v(t._s(t.identity))])])]),t._m(0)]),n("div",{staticClass:"info",attrs:{id:"textInfo"}},[t.processingMsg?n("ul",[n("li",{staticStyle:{"margin-top":"20px"}},[n("span",[t._v(t._s(t.$t("m.userinfo.birthday")))]),t._v(t._s(t.processingMsg.archive.identityInfo.birthday))]),n("li",[n("span",[t._v(t._s(t.$t("m.userinfo.country")))]),t._v(t._s(t.processingMsg.archive.identityInfo.country))]),n("li",[n("span",[t._v(t._s(t.$t("m.userinfo.residenceCountry")))]),t._v(t._s(t.processingMsg.archive.identityInfo.residenceCountry))]),n("li",[n("span",[t._v(t._s(t.$t("m.userinfo.idcardNumber")))]),t._v(t._s(t.processingMsg.archive.identityInfo.idcardNumber))]),n("li",[n("span",[t._v(t._s(t.$t("m.userinfo.passportNumber")))]),t._v(t._s(t.processingMsg.archive.identityInfo.passportNumber))]),n("li",[n("span",[t._v(t._s(t.$t("m.userinfo.phoneNumber")))]),t._v(t._s(t.processingMsg.archive.identityInfo.phoneNumber))]),n("li",[n("span",[t._v(t._s(t.$t("m.userinfo.gender")))]),t._v(t._s(t.processingMsg.archive.identityInfo.gender))]),n("li",[n("span",[t._v(t._s(t.$t("m.userinfo.email")))]),t._v(t._s(t.processingMsg.archive.basicInfo.email))]),n("li",[n("span",[t._v(t._s(t.$t("m.userinfo.taxId")))]),t._v(t._s(t.processingMsg.archive.basicInfo.taxId))]),n("li",[n("span",[t._v(t._s(t.$t("m.userinfo.ssn")))]),t._v(t._s(t.processingMsg.archive.basicInfo.ssn))]),n("li",[n("span",[t._v(t._s(t.$t("m.userinfo.address")))]),t._l(t.processingMsg.archive.identityInfo.address.addressSequence,(function(e,s){return n("p",{key:s},[n("span",{staticClass:"address"},[t._v(t._s(e.name)+":")]),t._v(t._s(e.value)+"\n                ")])})),n("p",[n("span",{staticClass:"address"},[t._v(t._s(t.$t("m.userinfo.postalCode")))]),t._v(t._s(t.processingMsg.archive.identityInfo.address.postalCode))])],2),n("li",[n("span",[t._v(t._s(t.$t("m.userinfo.financialProfile")))]),n("p",[n("span",{staticClass:"address"},[t._v(t._s(t.$t("m.userinfo.buyer")))]),t._v(t._s(t.buyerType))]),n("p",[n("span",{staticClass:"address"},[t._v(t._s(t.$t("m.userinfo.investor")))]),t._v(t._s(t.investorType))])])]):t._e()]),n("div",{staticClass:"info",attrs:{id:"fileInfo"}},[n("ul",{ref:"ul1"},t._l(t.processingMsg.materials,(function(e,s){return n("li",{key:s,on:{click:function(e){return t.showFile(s)}}},[n("div",[t._m(1,!0),n("span",[t._v(t._s(e.type))])])])})),0)]),n("file",{attrs:{id:"file",message:t.processingMsg,userID:t.identity,item:t.fileIndex}})],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"img"}},[n("img",{attrs:{src:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3987282417,3624059467&fm=26&gp=0.jpg",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("img",{attrs:{src:n("5964"),alt:""}})])}],o=n("85f2"),c=n.n(o);function u(t,e,n){return e in t?c()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("span",{attrs:{id:"close"},on:{click:t.close}},[t._v("X")])]),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"content"},[n("ul",[n("li",[n("span",[t._v(t._s(t.$t("m.file.fileId"))+":")]),n("p",[t._v(t._s(t.message.materials[t.item].id))])]),n("li",[n("span",[t._v(t._s(t.$t("m.file.userId"))+":")]),n("span",[t._v(t._s(t.userID))])]),n("li",[n("span",[t._v(t._s(t.$t("m.file.type"))+"：")]),n("span",[t._v(t._s(t.message.materials[t.item].type))])]),n("li",[n("span",[t._v(t._s(t.$t("m.file.name"))+"：")]),n("span",[t._v(t._s(t.message.materials[t.item].name))])]),n("li",[n("span",[t._v(t._s(t.$t("m.file.ext"))+"：")]),n("span",[t._v(t._s(t.message.materials[t.item].ext))])])])]),n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.newPage}},[t._v(t._s(t.$t("m.file.newPage")))]),n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.download}},[t._v(t._s(t.$t("m.file.download")))]),n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.upload}},[t._v(t._s(t.$t("m.file.upload")))])])])])},d=[],p=n("867a"),f={data:function(){return{id:0,ext:""}},props:["state","message","userID","item"],methods:{newPage:function(){this.id=this.message.materials[this.item].id,this.ext=this.message.materials[this.item].ext;var t=this.$router.resolve({path:"/newPage",query:{materialId:this.id}}),e=t.href;window.open(e,"_blank")},upload:function(){},download:function(){var t=this.message.materials[this.item].id,e=this.message.materials[this.item].ext,n=new XMLHttpRequest;n.open("GET",p["a"].baseURL+"/order/material_stream?id="+this.id,!0),n.responseType="blob",n.onload=function(s){var i=n.response,a=document.createElement("a");a.download=t+"."+e,a.style.display="none";var r=new Blob([i]);a.href=URL.createObjectURL(r),document.body.appendChild(a),a.click(),document.body.removeChild(a)},n.send()},close:function(){document.getElementsByClassName("file")[0].style.display="none"}}},y=f,m=(n("e425"),n("2877")),v=Object(m["a"])(y,l,d,!1,null,null,null),h=v.exports,_={data:function(){var t;return t={buyerType:"",investorType:"",fileIndex:0,financialProfile:""},u(t,"buyerType",""),u(t,"investorType",""),t},components:{file:h},props:["identity","claimType","processingMsg"],methods:{showFile:function(t){this.fileIndex=t,document.getElementById("file").style.display="block"}},watch:{processingMsg:function(t){this.financialProfile=t,null==this.financialProfile.archive.financialProfile?(this.buyerType=null,this.investorType=null):(this.buyerType=this.financialProfile.archive.financialProfile.buyerType,this.investorType=this.financialProfile.archive.financialProfile.investorType)}}},b=_,g=(n("28db"),Object(m["a"])(b,a,r,!1,null,null,null)),C=g.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right"},[n("div",{attrs:{id:"claimBox"}},[n("div",{attrs:{id:"header"}}),n("div",{attrs:{id:"content"}},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.kyc}},[t._v(t._s(t.$t("m.right.state")))]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.kycState}},[t._v(t._s(t.$t("m.right.history")))]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.agree}},[t._v(t._s(t.$t("m.right.issue")))]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.refuse}},[t._v(t._s(t.$t("m.right.refuse")))])])]),n("popup",{attrs:{state:t.state,id:"son"}}),n("kycHistory",{attrs:{kycHistory:t.kycHistory,id:"history"}}),t._v("\n    "+t._s(t.processingMsg)+"\n")],1)},w=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popup"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("span",[t._v("Kyc State")]),n("span",{attrs:{id:"close"},on:{click:t.close}},[t._v("X")])]),n("div",{staticClass:"panel-body"},[t._v("kyc")])])])},I=[],k={data:function(){return{kState:""}},props:["state"],methods:{close:function(){document.getElementsByClassName("popup")[0].style.display="none"}},watch:{state:function(t){this.kState=t,document.getElementsByClassName("panel-body")[0].innerHTML=this.kState}}},M=k,T=(n("0c6e"),Object(m["a"])(M,x,I,!1,null,null,null)),j=T.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"historyBox"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("span",[t._v("Kyc History")]),n("span",{attrs:{id:"closeHistory"},on:{click:t.close}},[t._v("X")])]),n("div",{staticClass:"panel-body"},[n("ul",t._l(t.kycHistory,(function(e,s){return n("li",{key:s},[t._v("\n                    "+t._s(e)+"\n                ")])})),0)])])])},P=[],S={props:["kycHistory"],methods:{close:function(){document.getElementsByClassName("historyBox")[0].style.display="none"}}},B=S,O=(n("f549"),Object(m["a"])(B,E,P,!1,null,null,null)),F=O.exports,H={components:{popup:j,kycHistory:F},data:function(){return{kycHistory:[],state:"",setClaimValue:[],nationality:"",residence:"",jurisdictions:"",account:"",cType:"",subAddr:""}},props:["orderId","processingMsg","claimType","identity"],mounted:function(){this.account=web3.eth.accounts[0]},watch:{processingMsg:function(t){this.setClaimValue=t,this.nationality=this.setClaimValue.archive.identityInfo.country,this.residence=this.setClaimValue.archive.identityInfo.residenceCountry,this.jurisdictions=null},claimType:function(t){this.cType=t},identity:function(t){this.subAddr=t}},methods:{kyc:function(){var t=this;this.$http.get(p["a"].baseURL+"/idm/evaluate",{params:{orderId:this.orderId}}).then((function(e){1==e.data.success&&null==e.data.data&&alert(t.$t("m.right.check")),1==e.data.success&&null!=e.data.data&&(t.state=e.data.data,document.getElementById("son").style.display="block")}))},kycState:function(){var t=this;this.$http.get(p["a"].baseURL+"/order/interactions",{params:{orderId:this.orderId}}).then((function(e){1==e.data.success?(t.kycHistory=e.data.data,document.getElementById("history").style.display="block"):console.log(t.$t("m.alert.historyFail"))}))},agree:function(){var t=this;if(this.$http.get(p["a"].baseURL+"/order/issue_claim",{params:{orderId:this.orderId}}).then((function(e){1==e.data.success?alert(t.$t("m.alert.issueSuccess")):alert(t.$t("m.alert.issueFail"))})),"ST_Compliant_Investor"==this.cType){var e=[{constant:!1,inputs:[{name:"key",type:"bytes32"},{name:"value",type:"bytes32"}],name:"setSelfClaim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"subject",type:"address"},{name:"key",type:"bytes32"},{name:"value",type:"bytes32"}],name:"setClaim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"issuer",type:"address"},{name:"subject",type:"address"},{name:"key",type:"bytes32"}],name:"removeClaim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"issuer",type:"address"},{name:"subject",type:"address"},{name:"key",type:"bytes32"}],name:"getClaim",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"bytes32"}],name:"registry",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"issuer",type:"address"},{indexed:!0,name:"subject",type:"address"},{indexed:!0,name:"key",type:"bytes32"},{indexed:!1,name:"value",type:"bytes32"},{indexed:!1,name:"updatedAt",type:"uint256"}],name:"ClaimSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"issuer",type:"address"},{indexed:!0,name:"subject",type:"address"},{indexed:!0,name:"key",type:"bytes32"},{indexed:!1,name:"removedAt",type:"uint256"}],name:"ClaimRemoved",type:"event"}],n="0x3c5a44d263ABed6795D0Cb5ed5f7BC2E4337eeF6",s=web3.eth.contract(e),i=s.at(n);if(this.nationality){var a=this.subAddr,r=web3.sha3("nationality"),o="stCompliance-0.0.1-"+this.nationality,c=web3.sha3(o);i.setClaim.sendTransaction(a,r,c,{from:this.account},(function(t,e){t?console.log(t):console.log(e)}))}if(this.residence){a=this.subAddr,r=web3.sha3("residence"),o="stCompliance-0.0.1-"+this.residence,c=web3.sha3(o);i.setClaim.sendTransaction(a,r,c,{from:this.account},(function(t,e){t?console.log(t):console.log(e)}))}if(this.jurisdictions){a=this.subAddr,r=web3.sha3("jurisdictions"),o="stCompliance-0.0.1-"+this.jurisdictions,c=web3.sha3(o);i.setClaim.sendTransaction(a,r,c,{from:this.account},(function(t,e){t?console.log(t):console.log(e)}))}}},refuse:function(){var t=this;this.$http.get(p["a"].baseURL+"/order/refuse_claim",{params:{orderId:this.orderId}}).then((function(e){1==e.data.success?alert(t.$t("m.alert.refuseSuccess")):alert(t.$t("m.alert.refuseFail"))}))}}},R=H,N=(n("c918"),Object(m["a"])(R,$,w,!1,null,null,null)),L=N.exports,A={data:function(){return{id:"",identity:"",claimType:"",orderId:"",msg:[]}},components:{Left:C,Right:L},mounted:function(){var t=this;this.id=this.$route.query.id,this.identity=this.$route.query.identity,this.claimType=this.$route.query.claimType,this.orderId=this.$route.query.orderId,this.$http.get(p["a"].baseURL+"/order/identity_archive",{params:{identity:this.identity}}).then((function(e){1==e.data.success?t.msg=e.data.data.data:alert(t.$t("m.alert.userInfoFail"))}))}},U=A,q=Object(m["a"])(U,s,i,!1,null,null,null);e["default"]=q.exports}}]);
//# sourceMappingURL=chunk-2b4210b4.7ebbb37d.js.map